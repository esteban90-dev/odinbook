<div class="row">
  <div class="col d-flex justify-content-center mt-5">
    <% if @profile.picture.attached? %>
      <%= image_tag @profile.picture.variant(resize_to_limit: [250,250]), class: "rounded-circle"  %>
    <% end %>
  </div>
</div>

<div class="row">
  <div class="col d-flex justify-content-center mt-2">
    <%= @profile.user.name %>
    <%= @profile.location %>
    <%= @profile.education %>
    <%= @profile.relationship_status %>
  </div>
</div>

<div class="row">
  <div class="col d-flex justify-content-center">
    <ul class="nav">
      <li class="nav-item">
        <%= link_to "friends", user_friendships_path(@profile.user.id), class: "nav-link active" %>
      </li>
      <% if @profile.user == current_user %>
        <li class="nav-item">
          <%= link_to "friend requests", friend_requests_path, class: "nav-link active" %>
        </li>
        <li class="nav-item">
          <%= link_to "edit profile", edit_user_profile_path(@profile.user.id), class: "nav-link active" %>
        </li>
      <% end %>
    </ul>
  </div>
</div>

<% if @profile.user == current_user %>
  <%= render partial: 'shared/posts/form', locals: { model: [current_user, current_user.posts.new], post: current_user.posts.new, redirect: "profile" } %>
<% end %>

<% @profile.user.posts.reverse.each do |post| %>
  <%= render partial: 'shared/posts/show', locals: { post: post, redirect: "profile" } %>
<% end %>
  